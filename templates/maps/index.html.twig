{% extends 'base.html.twig' %}

{% block title %} Leitungs Plan {% endblock %}

{% block body %}
	<h1> Articles </h1>
	{{ form(form)}}
	<div style="position:relative; height: 600px; width: 1000px">	
	{% for key, value in plans %}
		{% set data = value|slice(1,2) %} 		
		<span style="position: absolute; height: 10px; width:10px; border-radius: 50%; background: blue; font-size: 10px;  left: {{data|first * 2 }}px; top: {{data|last - -200 }}px;">{{ value|first }}
		</span>
	{% endfor %}
	</div>
{% endblock %}

{% block javascripts %}
<script>
$(document).ready(function(){
	$('form').change(function(){
		var from = $('#form_From').val();
		var to = $('#form_To').val();

		var formData = {to : to, from: from };

		$.ajax({
		 type: 'POST',
		 url: '{{ path('submit_route') }}',
		 data: JSON.stringify(formData),
		 dataType: 'json',
		 success: function(msg){
		  console.log('Success');
		 },
		 error: function(xhr){
		   console.log('Failure');
		 }
		})
	});

});

</script>
{% endblock %} 